//criando variaveis usadas para validação no formulário
const name = document.getElementById('name');
const button = document.getElementById('botao');
const email = document.getElementById('email');
const tel = document.getElementById('tel');
const comments = document.getElementById('comments');

//jquery para animação das imagens usadas no site, com a classe .slideanim do CSS
$(window).scroll(function() {
    $(".slideanim").each(function(){
      var pos = $(this).offset().top;
  
      var winTop = $(window).scrollTop();
      if (pos < winTop + 600) {
        $(this).addClass("slide");
      }
    });
  });

//validação de email
function emailValidator(email) {
    let emailPattern =
    /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;
    return emailPattern.test(email);
}

//validação de telefone fixo
const phoneValidator = (tel) => {
    const telefoneRegex = /^\(\d{2}\) \d{4,5}-\d{4}$/gi;
    return telefoneRegex.test(tel);
};

//validação do formulário
button.addEventListener('click', (event) => {
    event.preventDefault()
    if(name.value && email.value && comments.value && tel.value != "") {       
        if(emailValidator(email.value) != true) {
        alert("digite um email valido Ex: email@gmail.com")
        }
        else if(phoneValidator(tel.value) != true){
        alert('digite um telefone valido \n Exemplo: \n (41) 9218-2419; (41) 9128-2374; \n (411) 97258-2664')
        }
        else {
        alert('enviado!')
        }
    }
    else {
        alert('mensagem não enviada \n preencha todos os campos!')
    }
})
